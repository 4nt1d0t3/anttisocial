(this["webpackJsonpanttisocial-client"]=this["webpackJsonpanttisocial-client"]||[]).push([[0],{137:function(e,t,a){e.exports=a(168)},142:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(12),i=a(17),m=(a(142),a(221)),s=a(222),u={palette:{primary:{light:"#10E7DC",main:"#d9b08c",dark:"#0074E1"},secondary:{main:"#1B9CE5"},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},form:{textAlign:"center"},image:{maxWidth:"15%"},pageTitle:{textTransform:"uppercase"},textField:{margin:10,width:"40%"},button:{marginTop:20,marginBottom:20,position:"relative"},customError:{color:"#FF0000",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20}}},d=a(104),p=a.n(d),E=a(14),f=a.n(E),b=a(6),g=a(41),h=a(106),y=a(60),O=a(9),v={loading:!1,authenticated:!1,credentials:{},likes:[],notifications:[]},j={screams:[],scream:{},loading:!1},S={loading:!1,errors:null},C=[h.a],I=Object(g.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(O.a)(Object(O.a)({},e),{},{authenticated:!0});case"SET_UNAUTHENTICATED":return v;case"SET_USER":return Object(O.a)(Object(O.a)({},e),{},{authenticated:!0,loading:!1},t.payload);case"LOADING_USER":return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case"LIKE_SCREAM":return Object(O.a)(Object(O.a)({},e),{},{likes:[].concat(Object(y.a)(e.likes),[{userHandle:e.credentials.handle,screamId:t.payload.screamId}])});case"UNLIKE_SCREAM":return Object(O.a)(Object(O.a)({},e),{},{likes:e.likes.filter((function(e){return e.screamId!==t.payload.screamId}))});case"MARK_NOTIFICATIONS_READ":return e.notifications.forEach((function(e){return e.read=!0})),Object(O.a)({},e);default:return e}},data:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING_DATA":return Object(O.a)(Object(O.a)({},t),{},{loading:!0});case"SET_SCREAMS":return Object(O.a)(Object(O.a)({},t),{},{screams:a.payload,loading:!1});case"SET_SCREAM":return Object(O.a)(Object(O.a)({},t),{},{scream:a.payload});case"LIKE_SCREAM":case"UNLIKE_SCREAM":return e=t.screams.findIndex((function(e){return e.screamId===a.payload.screamId})),t.screams[e]=a.payload,t.scream.screamId===a.payload.screamId&&(t.scream.likeCount=a.payload.likeCount),Object(O.a)({},t);case"POST_SCREAM":return Object(O.a)(Object(O.a)({},t),{},{screams:[a.payload].concat(Object(y.a)(t.screams))});case"SUBMIT_COMMENT":return Object(O.a)(Object(O.a)({},t),{},{scream:Object(O.a)(Object(O.a)({},t.scream),{},{comments:[a.payload].concat(Object(y.a)(t.scream.comments))})});case"DELETE_SCREAM":return e=t.screams.findIndex((function(e){return e.screamId===a.payload})),t.screams.splice(e,1),Object(O.a)({},t);default:return t}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errors:null});case"LOADING_UI":return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case"STOP_LOADING_UI":return Object(O.a)(Object(O.a)({},e),{},{loading:!1});default:return e}}}),N=Object(g.e)(I,{},Object(g.d)(g.a.apply(void 0,C),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),A=function(){return function(e){localStorage.removeItem("FBIdToken"),delete f.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"})}},w=function(){return function(e){e({type:"LOADING_USER"}),f.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){return console.log(e)}))}},R=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),f.a.defaults.headers.common.Authorization=t},x=a(225),T=a(206),_=function(e){var t=e.children,a=e.onClick,n=e.tip,c=e.btnClassName,l=e.tipClassName;return r.a.createElement(x.a,{title:n,className:l,placement:"top"},r.a.createElement(T.a,{onClick:a,className:c},t))},k=a(11),L=a(29),D=a(207),M=a(210),U=a(223),F=a(226),B=a(209),W=a(208),P=a(211),H=function(){return{paper:{position:"fixed",width:"20%",border:"20px solid #d1e8e2",padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:u.palette.primary.main}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}}}},Y=function(){return{button:{float:"right",margin:0}}},G=function(){return{commentImg:{maxWidth:"100%",height:100,objectFit:"cover",borderRadius:"50%"},commentData:{marginLeft:20}}},z=function(){return{deleteButton:{position:"absolute",left:"90%",top:"10%"}}},K=function(){return{card:{position:"relative",display:"flex",margin:10},content:{padding:25},image:{maxWidth:"25%",maxHeight:200}}},J=function(){return{closeButton:{position:"absolute",left:"90%",top:"6%"},submitButton:{position:"relative",float:"right",marginTop:10}}},V=function(){return{profileImg:{maxWidth:"100%",borderRadius:"50%",objectFit:"cover"},dialogContent:{padding:20},closeButton:{position:"absolute",left:"90%"},expandButton:{position:"absolute",left:"90%"},spinnerDiv:{textAlign:"center",marginTop:50,marginBottom:50}}},X=function(){return{handle:{height:20,backgroundColor:u.palette.primary.main,width:60,margin:"0 auto 7px auto"},fullLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"90%",marginBottom:10,marginLeft:"5%"},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"}}}}},$=function(){return{card:{display:"flex",marginBottom:20},content:{width:"100%",flexDirection:"column",padding:25},cover:{minWidth:200,objectFit:"cover"},handle:{width:60,height:18,backgroundColor:u.palette.primary.main,marginBottom:7},date:{height:14,width:100,backgroundColor:"rgba(0,0,0,0.3)",marginBottom:10},fullLine:{height:15,width:"90%",marginBottom:10,backgroundColor:"rgba(0,0,0,0.6)"},halfLine:{height:15,width:"50%",marginBottom:10,backgroundColor:"rgba(0,0,0,0.6)"}}},q=function(){return{appbar:{flexDirection:"row"},logo:{alignSelf:"center",marginLeft:10}}},Q=a(111),Z=a.n(Q),ee=a(71),te=a.n(ee);var ae=function(){var e=Object(L.a)().palette,t=Object(D.a)(J)(),a=Object(b.c)(),c=Object(b.d)((function(e){return e.UI}),b.b),l=Object(n.useState)(!1),o=Object(k.a)(l,2),i=o[0],m=o[1],s=Object(n.useState)(""),u=Object(k.a)(s,2),d=u[0],p=u[1],E=Object(n.useState)({}),g=Object(k.a)(E,2),h=g[0],y=g[1];function O(){m(!1),y({}),a({type:"CLEAR_ERRORS"})}return Object(n.useEffect)((function(){c.errors&&y(c.errors),c.errors||c.loading||(p(""),O())}),[c.errors,c.loading]),r.a.createElement(n.Fragment,null,r.a.createElement(_,{onClick:function(){return m(!0)},tip:"Post a Scream!"},r.a.createElement(Z.a,null)),r.a.createElement(F.a,{open:i,onClose:O,fullWidth:!0,maxWidth:"sm"},r.a.createElement(_,{tip:"Close",onClick:function(){return O()},tipClassName:t.closeButton},r.a.createElement(te.a,null)),r.a.createElement(W.a,null,"Post a new Scream"),r.a.createElement(B.a,null,r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),a((t={body:d},function(e){e({type:"LOADING_UI"}),f.a.post("/scream",t).then((function(t){e({type:"CLEAR_ERRORS"}),e({type:"POST_SCREAM",payload:t.data})})).catch((function(t){e({type:"SET_ERRORS",payload:t.response.data})}))}))}},r.a.createElement(U.a,{name:"body",type:"text",label:"SCREAM!!!",multiline:!0,rows:"3",placeholder:"Let it all out!!",error:!!h.body,helperText:h.body,style:e.textfield,onChange:function(e){return p(e.target.value)},fullWidth:!0}),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",className:t.submitButton,disabled:c.loading},"Submit",c.loading&&r.a.createElement(P.a,{size:"1.5rem",style:e.progress}))))))},ne=a(24),re=a.n(ne),ce=a(74),le=a.n(ce),oe=a(116),ie=a(228),me=a(121),se=a(212),ue=a(79),de=a.n(ue),pe=a(75),Ee=a.n(pe),fe=a(46),be=a.n(fe);var ge=function(){var e,t=Object(b.c)(),a=Object(b.d)((function(e){return e.user.notifications})),c=Object(n.useState)(null),l=Object(k.a)(c,2),i=l[0],m=l[1];re.a.extend(le.a);var s=function(e){m(e.currentTarget)};if(a&&a.length>0){var u=a.filter((function(e){return!1===e.read}));e=u.length>0?r.a.createElement(se.a,{badgeContent:u.length,color:"secondary"},r.a.createElement(de.a,null)):r.a.createElement(de.a,null)}else e=r.a.createElement(de.a,null);var d=a&&a.length>0?a.map((function(e){var t="like"===e.type?" liked":" commented on",a=re()(e.createdAt).fromNow(),n=e.read?"primary":"secondary",c="like"===e.type?r.a.createElement(Ee.a,{color:n,style:{marginRight:10}}):r.a.createElement(be.a,{color:n,style:{marginRight:10}});return r.a.createElement(ie.a,{key:e.createdAt,onClick:s},c,r.a.createElement(me.a,{component:o.b,color:"primary",variant:"body1",to:"/users/".concat(e.recipient,"/scream/").concat(e.screamId)},e.sender,t," your scream ",a))})):r.a.createElement(ie.a,{onClick:s},"You have no notifications yet");return r.a.createElement(n.Fragment,null,r.a.createElement(x.a,{placement:"top",title:"Notifications"},r.a.createElement(T.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:s},e)),r.a.createElement(oe.a,{anchorEl:i,open:Boolean(i),onClose:function(){m(null)},onEntered:function(){var e,n=a.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));t((e=n,function(t){f.a.post("/notifications",e).then((function(){t({type:"MARK_NOTIFICATIONS_READ"})})).catch((function(e){return console.log(e)}))}))}},d))},he=a(47),ye=a.n(he),Oe=a(213),ve=a(214),je=a(227),Se=a(112),Ce=a.n(Se);var Ie=function(){var e=Object(D.a)(q)(),t=Object(b.d)((function(e){return e.user.authenticated}));return r.a.createElement(Oe.a,{className:e.appbar},r.a.createElement(je.a,{variant:"rounded",src:ye.a,className:e.logo}),r.a.createElement(ve.a,{className:"nav-container"},t?r.a.createElement(n.Fragment,null,r.a.createElement(ae,null),r.a.createElement(o.b,{to:"/"},r.a.createElement(_,{tip:"Home"},r.a.createElement(Ce.a,null))),r.a.createElement(ge,null)):r.a.createElement(n.Fragment,null,r.a.createElement(M.a,{color:"inherit",component:o.b,to:"/login"},"Login"),r.a.createElement(M.a,{color:"inherit",component:o.b,to:"/"},"Home"),r.a.createElement(M.a,{color:"inherit",component:o.b,to:"/signup"},"Signup"))))},Ne=a(117),Ae=function(e){var t=e.component,a=Object(Ne.a)(e,["component"]),n=Object(b.d)((function(e){return e.user.authenticated}));return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(i.a,{to:"/"}):r.a.createElement(t,e)}}))},we=a(216),Re=a(215),xe=a(113),Te=a.n(xe);var _e=function(e){var t=e.screamId,a=Object(D.a)(z)(),c=Object(b.c)(),l=Object(n.useState)(!1),o=Object(k.a)(l,2),i=o[0],m=o[1],s=function(){c(function(e){return function(t){f.a.delete("/screams/".concat(e)).then((function(){t({type:"DELETE_SCREAM",payload:e})})).catch((function(e){return console.log(e)}))}}(t)),m(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(_,{tip:"Delete Scream",onClick:function(){return m(!0)},btnClassName:a.deleteButton},r.a.createElement(Te.a,{color:"primary"})),r.a.createElement(F.a,{open:i,onClose:function(){return m(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(W.a,null,"Are you sure you want to Delete this Scream?"),r.a.createElement(Re.a,null,r.a.createElement(M.a,{onClick:function(){return m(!1)},color:"primary"},"Cancel"),r.a.createElement(M.a,{onClick:function(){return s()},color:"secondary"},"Delete"))))},ke=a(86),Le=a.n(ke);var De=function(e){var t=e.screamId,a=Object(b.d)((function(e){return e.user})),n=Object(b.c)();return a.authenticated?a.likes&&a.likes.find((function(e){return e.screamId===t}))?r.a.createElement(_,{tip:"Unlike",onClick:function(){return n(function(e){return function(t){f.a.get("/screams/".concat(e,"/unlike")).then((function(e){t({type:"UNLIKE_SCREAM",payload:e.data})})).catch((function(e){return console.log(e)}))}}(t))}},r.a.createElement(Ee.a,{color:"primary"})):r.a.createElement(_,{tip:"Like",onClick:function(){return n(function(e){return function(t){f.a.get("/screams/".concat(e,"/like")).then((function(e){t({type:"LIKE_SCREAM",payload:e.data})})).catch((function(e){return console.log(e)}))}}(t))}},r.a.createElement(Le.a,{color:"primary"})):r.a.createElement(o.b,{to:"/login"},r.a.createElement(_,{tip:"Like"},r.a.createElement(Le.a,{color:"primary"})))};var Me=function(e){var t=e.comments,a=Object(L.a)().palette,c=Object(D.a)(G)();return r.a.createElement(we.a,{container:!0},t.map((function(e,l){var i=e.body,m=e.createdAt,s=e.userImg,u=e.userHandle;return r.a.createElement(n.Fragment,{key:m},r.a.createElement(we.a,{item:!0,sm:12},r.a.createElement(we.a,{container:!0},r.a.createElement(we.a,{item:!0,sm:2},r.a.createElement("img",{src:s,alt:"Profile",className:c.commentImg})),r.a.createElement(we.a,{item:!0,sm:9},r.a.createElement("div",{className:c.commentData},r.a.createElement(me.a,{variant:"h5",component:o.b,to:"/users/".concat(u),color:"primary"},u),r.a.createElement(me.a,{variant:"body2",color:"textSecondary"},re()(m).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",{style:a.invisibleSeparator}),r.a.createElement(me.a,{variant:"body1"},i))))),l!==t.length-1&&r.a.createElement("hr",{style:a.visibleSeparator}))})))};var Ue=function(e){var t=e.screamId,a=Object(L.a)().palette,c=Object(b.c)(),l=Object(b.d)((function(e){return e.UI})),o=Object(b.d)((function(e){return e.user.authenticated})),i=Object(n.useState)({}),m=Object(k.a)(i,2),s=m[0],u=m[1],d=Object(n.useState)(""),p=Object(k.a)(d,2),E=p[0],g=p[1];return Object(n.useEffect)((function(){l.errors&&u(l.errors)}),[l.errors]),o?r.a.createElement(we.a,{item:!0,sm:12,style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(function(e,t){return function(a){f.a.post("/screams/".concat(e,"/comment"),t).then((function(e){a({type:"SUBMIT_COMMENT",payload:e.data}),a({type:"CLEAR_ERRORS"})})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}(t,{body:E})),g("")}},r.a.createElement(U.a,{name:"body",type:"text",label:"Comment on Scream",error:!!s.comment,helperText:s.comment,value:E,onChange:function(e){return g(e.target.value)},fullWidth:!0,multiline:!0,rows:2,style:a.textField}),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",style:a.button},"Submit")),r.a.createElement("hr",{styles:a.visibleSeparator})):null},Fe=a(114),Be=a.n(Fe);var We=function(e){var t=e.screamId,a=e.userHandle,c=e.openDialog,l=Object(L.a)().palette,i=Object(D.a)(V)(),m=Object(b.d)((function(e){return e.data.scream})),s=m.createdAt,u=m.body,d=m.likeCount,p=m.comments,E=m.userImg,g=m.userHandle,h=m.commentCount,y=Object(b.d)((function(e){return e.UI})).loading,O=Object(b.c)(),v=Object(n.useState)(!1),j=Object(k.a)(v,2),S=j[0],C=j[1],I=Object(n.useState)(""),N=Object(k.a)(I,2),A=N[0],w=N[1];function R(){var e=window.location.pathname,n="/users/".concat(a,"/scream/").concat(t);e===n&&(e="/users/".concat(a)),window.history.pushState(null,null,n),w(e),C(!0),O(function(e){return function(t){t({type:"LOADING_UI"}),f.a.get("/screams/".concat(e)).then((function(e){t({type:"SET_SCREAM",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}}(t))}function x(){window.history.pushState(null,null,A),C(!1),O({type:"CLEAR_ERRORS"})}Object(n.useEffect)((function(){c&&R()}),[c]);var T=y?r.a.createElement("div",{className:i.spinnerDiv},r.a.createElement(P.a,{size:150,thickness:2})):r.a.createElement(we.a,{container:!0,spacing:2},r.a.createElement(we.a,{item:!0,sm:5},r.a.createElement("img",{src:E,alt:"Profile",className:i.profileImg})),r.a.createElement(we.a,{item:!0,sm:7},r.a.createElement(me.a,{component:o.b,color:"primary",variant:"h5",to:"/users/".concat(g)},"@",g),r.a.createElement("hr",{style:l.invisibleSeparator}),r.a.createElement(me.a,{variant:"body2",color:"textSecondary"},re()(s).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",{style:l.invisibleSeparator}),r.a.createElement(me.a,{variant:"body1"},u),r.a.createElement(De,{screamId:t}),r.a.createElement("span",null,d," Likes"),r.a.createElement(_,{tip:"Comments"},r.a.createElement(be.a,{color:"primary"})),r.a.createElement("span",null,h," Comments")),r.a.createElement("hr",{style:l.visibleSeparator}),r.a.createElement(Ue,{screamId:t}),r.a.createElement(Me,{comments:p}));return r.a.createElement(n.Fragment,null,r.a.createElement(_,{onClick:function(){return R()},tip:"Expand Scream",tipClassName:i.expandButton},r.a.createElement(Be.a,{color:"primary"})),r.a.createElement(F.a,{open:S,onClose:function(){return x()},fullWidth:!0,maxWidth:"sm"},r.a.createElement(_,{tip:"Close",onClick:function(){return x()},tipClassName:i.closeButton},r.a.createElement(te.a,null)),r.a.createElement(B.a,{className:i.dialogContent},T)))},Pe=a(217),He=a(219),Ye=a(218);var Ge=function(e){var t=e.scream,a=e.openDialog,n=Object(D.a)(K)(),c=Object(b.d)((function(e){return e.user})),l=c.authenticated,i=c.credentials.handle;re.a.extend(le.a);var m=l&&t.userHandle===i?r.a.createElement(_e,{screamId:t.screamId}):null;return r.a.createElement(Pe.a,{raised:!0,className:n.card},r.a.createElement(Ye.a,{className:n.image,component:"img",image:t.userImg,title:"Profile Image"}),r.a.createElement(He.a,{className:n.content},r.a.createElement(me.a,{color:"primary",variant:"h5",component:o.b,to:"/users/".concat(t.userHandle)},t.userHandle),m,r.a.createElement(me.a,{variant:"body2",color:"textSecondary"},re()(t.createdAt).fromNow()),r.a.createElement(me.a,{variant:"body1"},t.body),r.a.createElement(De,{screamId:t.screamId}),r.a.createElement("span",null,t.likeCount," Likes"),r.a.createElement(_,{tip:"Comments"},r.a.createElement(be.a,{color:"primary"})),r.a.createElement("span",null,t.commentCount," Comments"),r.a.createElement(We,{screamId:t.screamId,userHandle:t.userHandle,openDialog:a})))},ze=a(76),Ke=a.n(ze);var Je=function(){var e=Object(D.a)(Y)(),t=Object(b.d)((function(e){return e.user.credentials}),b.b),a=Object(b.c)(),c=Object(n.useState)(""),l=Object(k.a)(c,2),o=l[0],i=l[1],m=Object(n.useState)(""),s=Object(k.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)(""),E=Object(k.a)(p,2),g=E[0],h=E[1],y=Object(n.useState)(!1),O=Object(k.a)(y,2),v=O[0],j=O[1];Object(n.useEffect)((function(){i(t.bio?t.bio:""),d(t.website?t.website:""),h(t.location?t.location:"")}),[]);var S=function(){var e={bio:o,website:u,location:g};j(!1),a(function(e){return function(t){t({type:"LOADING_USER"}),f.a.post("/user",e).then((function(){t(w())})).catch((function(e){return console.log(e)}))}}(e))};return r.a.createElement(n.Fragment,null,r.a.createElement(_,{tip:"Edit Details",onClick:function(){return j(!0)},btnClassName:e.button},r.a.createElement(Ke.a,{color:"primary"})),r.a.createElement(F.a,{open:v,onClose:function(){return j(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(W.a,null,"Edit your details"),r.a.createElement(B.a,null,r.a.createElement("form",null,r.a.createElement(U.a,{name:"bio",type:"text",label:"Bio",multiline:!0,rows:"2",placeholder:"A short personal bio",margin:"normal",value:o,onChange:function(e){return i(e.target.value)},fullWidth:!0}),r.a.createElement(U.a,{name:"website",type:"text",label:"Website",placeholder:"Your personal/professional website",margin:"normal",value:u,onChange:function(e){return d(e.target.value)},fullWidth:!0}),r.a.createElement(U.a,{name:"location",type:"text",label:"Location",placeholder:"Where do you live?",margin:"normal",value:g,onChange:function(e){return h(e.target.value)},fullWidth:!0}))),r.a.createElement(Re.a,null,r.a.createElement(M.a,{onClick:function(){return j(!1)},color:"primary"},"Cancel"),r.a.createElement(M.a,{onClick:function(){return S()},color:"primary"},"Save"))))},Ve=a(77),Xe=a.n(Ve),$e=a(120),qe=a(48),Qe=a.n(qe),Ze=a(49),et=a.n(Ze),tt=a(50),at=a.n(tt);var nt=function(){var e=Object(D.a)(X)();return r.a.createElement($e.a,{className:e.paper},r.a.createElement("div",{className:e.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:Xe.a,alt:"Profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:e.handle}),r.a.createElement("hr",null),r.a.createElement("div",{className:e.fullLine}),r.a.createElement("div",{className:e.fullLine}),r.a.createElement("hr",null),r.a.createElement(Qe.a,{color:"primary"})," ",r.a.createElement("span",null,"Location"),r.a.createElement("hr",null),r.a.createElement(et.a,{color:"primary"})," ",r.a.createElement("span",null,"Website"),r.a.createElement("hr",null),r.a.createElement(at.a,{color:"primary"})," ",r.a.createElement("span",null,"Joined"))))},rt=a(220),ct=a(115),lt=a.n(ct);var ot=function(){var e=Object(D.a)(H)(),t=Object(b.d)((function(e){return e.user}),b.b),a=Object(b.c)();return t.loading?r.a.createElement(nt,null):t.authenticated?r.a.createElement($e.a,{className:e.paper},r.a.createElement("div",{className:e.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:t.credentials.imgUrl,alt:"profile",className:"profile-image"}),r.a.createElement("input",{type:"file",id:"imgUpload",hidden:"hidden",onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a(function(e){return function(t){t({type:"LOADING_USER"}),f.a.post("/user/image",e).then((function(){t(w())})).catch((function(e){return console.log(e)}))}}(n))}}),r.a.createElement(_,{tip:"Change Profile Picture",onClick:function(){document.getElementById("imgUpload").click()},btnClassName:"button"},r.a.createElement(Ke.a,{color:"primary"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(rt.a,{component:o.b,to:"/users/".concat(t.credentials.handle),color:"primary",variant:"h5"},"@",t.credentials.handle),r.a.createElement("hr",null),t.credentials.bio&&r.a.createElement(me.a,{variant:"body2"},t.credentials.bio),r.a.createElement("hr",null),t.credentials.location&&r.a.createElement(n.Fragment,null,r.a.createElement(Qe.a,{color:"primary"})," ",r.a.createElement("span",null,t.credentials.location),r.a.createElement("hr",null)),t.credentials.website&&r.a.createElement(n.Fragment,null,r.a.createElement(et.a,{color:"primary"}),r.a.createElement("a",{href:t.credentials.website,target:"_blank",rel:"noopener noreferrer"},"   ",t.credentials.website),r.a.createElement("hr",null)),r.a.createElement(at.a,{color:"primary"})," "," ",r.a.createElement("span",null,"Joined ",re()(t.credentials.createdAt).format("MMM YYYY"))),r.a.createElement(_,{tip:"Logout",onClick:function(){a(A())}},r.a.createElement(lt.a,{color:"primary"})),r.a.createElement(Je,null))):r.a.createElement($e.a,{className:e.paper},r.a.createElement(me.a,{variant:"body2",align:"center"},"No profile found, please log in again."),r.a.createElement("div",{className:e.buttons},r.a.createElement(M.a,{variant:"contained",color:"primary",component:o.b,to:"/login"},"Login"),r.a.createElement(M.a,{variant:"contained",color:"secondary",component:o.b,to:"/signup"},"Signup")))};var it=function(){var e=Object(D.a)($)(),t=Array.from({length:5}).map((function(t,a){return r.a.createElement(Pe.a,{className:e.card,key:a},r.a.createElement(Ye.a,{className:e.cover,image:Xe.a}),r.a.createElement(He.a,{className:e.content},r.a.createElement("div",{className:e.handle}),r.a.createElement("div",{className:e.date}),r.a.createElement("div",{className:e.fullLine}),r.a.createElement("div",{className:e.fullLine}),r.a.createElement("div",{className:e.halfLine})))}));return r.a.createElement(n.Fragment,null,t)};var mt=function(){var e=Object(b.d)((function(e){return e.data})),t=e.loading,a=e.screams,c=Object(b.c)();Object(n.useEffect)((function(){c((function(e){e({type:"LOADING_DATA"}),f.a.get("/screams").then((function(t){e({type:"SET_SCREAMS",payload:t.data})})).catch((function(t){console.log(t),e({type:"SET_SCREAMS",payload:[]})}))}))}),[]);var l=t?r.a.createElement(it,null):a.map((function(e){return r.a.createElement(Ge,{key:e.screamId,scream:e})}));return r.a.createElement(we.a,{container:!0,spacing:2},r.a.createElement(we.a,{item:!0,sm:8,xs:12},r.a.createElement($e.a,{style:{backgroundColor:"#d1e8e2"}},r.a.createElement(me.a,{style:{paddingTop:15},align:"center",color:"primary",variant:"h4"},"Most recent Screams!"),l)),r.a.createElement(we.a,{item:!0,sm:4,xs:12},r.a.createElement(ot,null)))};var st=function(){var e=Object(L.a)().palette,t=Object(b.d)((function(e){return e.UI})),a=Object(b.c)(),c=Object(n.useState)(""),l=Object(k.a)(c,2),m=l[0],s=l[1],u=Object(n.useState)(""),d=Object(k.a)(u,2),p=d[0],E=d[1],g=Object(n.useState)({}),h=Object(k.a)(g,2),y=h[0],O=h[1],v=Object(i.g)(),j={email:m,password:p};return Object(n.useEffect)((function(){t.errors&&O(t.errors)}),[t.errors]),r.a.createElement(we.a,{style:e.form},r.a.createElement(we.a,{item:!0,sm:!0},r.a.createElement("img",{src:ye.a,alt:"Social distancing",style:e.image}),r.a.createElement(me.a,{variant:"h3",style:e.pageTitle},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(a){a({type:"LOADING_UI"}),f.a.post("/login",e).then((function(e){R(e.data.token),a(w()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){console.log(e),a({type:"SET_ERRORS",payload:e.response.data})}))}}(j,v))}},r.a.createElement(U.a,{id:"email",name:"email",type:"email",label:"Email",style:e.textField,helperText:y.email,error:!!y.email,value:m,onChange:function(e){s(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(U.a,{id:"password",name:"password",type:"password",label:"Password",style:e.textField,helperText:y.password,error:!!y.password,value:p,onChange:function(e){E(e.target.value)}}),r.a.createElement("br",null),y.general&&r.a.createElement(me.a,{variant:"body2",style:e.customError},y.general),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",style:e.button,disabled:t.loading},"Login",t.loading&&r.a.createElement(P.a,{size:"1.5rem",style:e.progress})),r.a.createElement("br",null),r.a.createElement("small",null,"Don't have an account? Sign up ",r.a.createElement(o.b,{to:"/signup"},"here")))))};var ut=function(){var e=Object(L.a)().palette,t=Object(b.c)(),a=Object(b.d)((function(e){return e.UI})),c=Object(n.useState)(""),l=Object(k.a)(c,2),m=l[0],s=l[1],u=Object(n.useState)(""),d=Object(k.a)(u,2),p=d[0],E=d[1],g=Object(n.useState)(""),h=Object(k.a)(g,2),y=h[0],O=h[1],v=Object(n.useState)(""),j=Object(k.a)(v,2),S=j[0],C=j[1],I=Object(n.useState)({}),N=Object(k.a)(I,2),A=N[0],x=N[1],T=Object(i.g)(),_={email:m,password:p,confirmPassword:y,handle:S};return Object(n.useEffect)((function(){a.errors&&x(a.errors)}),[a.errors]),r.a.createElement(we.a,{style:e.form},r.a.createElement(we.a,{item:!0,sm:!0},r.a.createElement("img",{src:ye.a,alt:"Social distancing",style:e.image}),r.a.createElement(me.a,{variant:"h3",style:e.pageTitle},"Signup"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(a){a({type:"LOADING_UI"}),f.a.post("/signup",e).then((function(e){R(e.data.token),a(w()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){console.log(e),a({type:"SET_ERRORS",payload:e.response.data})}))}}(_,T))}},r.a.createElement(U.a,{id:"email",name:"email",type:"email",label:"Email",style:e.textField,helperText:A.email,error:!!A.email,value:m,onChange:function(e){s(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(U.a,{id:"password",name:"password",type:"password",label:"Password",style:e.textField,helperText:A.password,error:!!A.password,value:p,onChange:function(e){E(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(U.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm Password",style:e.textField,helperText:A.confirmPassword,error:!!A.confirmPassword,value:y,onChange:function(e){O(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(U.a,{id:"handle",name:"handle",type:"text",label:"Handle",style:e.textField,helperText:A.handle,error:!!A.handle,value:S,onChange:function(e){C(e.target.value)}}),r.a.createElement("br",null),A.general&&r.a.createElement(me.a,{variant:"body2",style:e.customError},A.general),r.a.createElement(M.a,{type:"submit",variant:"contained",color:"primary",style:e.button,disabled:a.loading},"Signup",a.loading&&r.a.createElement(P.a,{size:"1.5rem",style:e.progress})),r.a.createElement("br",null),r.a.createElement("small",null,"Already have an account? Login ",r.a.createElement(o.b,{to:"/login"},"here")))))};var dt=function(e){var t=e.profile,a=Object(D.a)(H)(),c=t.handle,l=t.createdAt,i=t.imgUrl,m=t.bio,s=t.website,u=t.location;return r.a.createElement($e.a,{className:a.paper},r.a.createElement("div",{className:a.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:i,alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(rt.a,{component:o.b,to:"/users/".concat(c),color:"primary",variant:"h5"},"@",c),r.a.createElement("hr",null),m&&r.a.createElement(me.a,{variant:"body2"},m),r.a.createElement("hr",null),u&&r.a.createElement(n.Fragment,null,r.a.createElement(Qe.a,{color:"primary"})," ",r.a.createElement("span",null,u),r.a.createElement("hr",null)),s&&r.a.createElement(n.Fragment,null,r.a.createElement(et.a,{color:"primary"}),r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},"   ",s),r.a.createElement("hr",null)),r.a.createElement(at.a,{color:"primary"})," "," ",r.a.createElement("span",null,"Joined ",re()(l).format("MMM YYYY")))))};var pt=function(){var e=Object(b.d)((function(e){return e.data})),t=e.screams,a=e.loading,c=Object(b.c)(),l=Object(n.useState)({}),o=Object(k.a)(l,2),m=o[0],s=o[1],u=Object(n.useState)(null),d=Object(k.a)(u,2),p=d[0],E=d[1],g=Object(i.h)(),h=g.handle,y=g.screamId;Object(n.useEffect)((function(){var e;c((e=h,function(t){t({type:"LOADING_DATA"}),f.a.get("/user/".concat(e)).then((function(e){t({type:"SET_SCREAMS",payload:e.data.screams})})).catch((function(){return t({type:"SET_SCREAMS",payload:null})}))})),f.a.get("/user/".concat(h)).then((function(e){s(e.data.user),y&&E(y)})).catch((function(e){return console.log(e)}))}),[]);var O=a?r.a.createElement(it,null):null===t?r.a.createElement("p",null,"No screams found"):p?t.map((function(e){return e.screamId!==p?r.a.createElement(Ge,{key:e.screamId,scream:e}):r.a.createElement(Ge,{key:e.screamId,scream:e,openDialog:!0})})):t.map((function(e){return r.a.createElement(Ge,{key:e.screamId,scream:e})}));return r.a.createElement(we.a,{container:!0,spacing:2},r.a.createElement(we.a,{item:!0,sm:8,xs:12},O),r.a.createElement(we.a,{item:!0,sm:4,xs:12},null===m?r.a.createElement(nt,null):r.a.createElement(dt,{profile:m})))},Et=Object(m.a)(u);f.a.defaults.baseURL="https://europe-west2-anttisocial-763c6.cloudfunctions.net/api";var ft=localStorage.FBIdToken;ft&&(1e3*p()(ft).exp<Date.now()?(N.dispatch(A()),window.location.href="/login"):(N.dispatch({type:"SET_AUTHENTICATED"}),f.a.defaults.headers.common.Authorization=ft,N.dispatch(w())));var bt=function(){return r.a.createElement(s.a,{theme:Et},r.a.createElement(b.a,{store:N},r.a.createElement(o.a,null,r.a.createElement(Ie,null),r.a.createElement("div",{className:"container"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:mt}),r.a.createElement(Ae,{exact:!0,path:"/login",component:st}),r.a.createElement(Ae,{exact:!0,path:"/signup",component:ut}),r.a.createElement(i.b,{exact:!0,path:"/users/:handle",component:pt}),r.a.createElement(i.b,{exact:!0,path:"/users/:handle/scream/:screamId",component:pt}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a.p+"static/media/distancing.921e6266.png"},77:function(e,t,a){e.exports=a.p+"static/media/no-img.5a021ab9.png"}},[[137,1,2]]]);
//# sourceMappingURL=main.f1439738.chunk.js.map